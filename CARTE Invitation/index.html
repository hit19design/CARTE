<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <title>Invitation Sp√©ciale - Sophia Dubois</title>

  <!-- Polyfills pour la compatibilit√© -->
  <script src="https://polyfill.io/v3/polyfill.min.js?features=default,Array.prototype.includes,String.prototype.startsWith,Object.assign,Promise,IntersectionObserver"></script>
  
  <!-- Tailwind CSS -->
  <script src="https://cdn.tailwindcss.com"></script>

  <!-- Google Fonts avec preload pour les performances -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Great+Vibes&family=Outfit:wght@200;300;400;500;600;700&family=Dancing+Script:wght@400;500;600;700&family=Playfair+Display:wght@400;500;600;700;800&display=swap" rel="stylesheet">

  <!-- Styles int√©gr√©s avec compatibilit√© maximale -->
  <style>
    /* Reset CSS pour une meilleure compatibilit√© */
    * {
      -webkit-box-sizing: border-box;
      -moz-box-sizing: border-box;
      box-sizing: border-box;
    }

    body {
      background: #0d0221;
      background: -webkit-radial-gradient(ellipse at bottom, #0d0221 0%, #000 100%);
      background: -moz-radial-gradient(ellipse at bottom, #0d0221 0%, #000 100%);
      background: radial-gradient(ellipse at bottom, #0d0221 0%, #000 100%);
      overflow: hidden;
      margin: 0;
      padding: 0;
      font-family: 'Outfit', sans-serif;
      -webkit-font-smoothing: antialiased;
      -moz-osx-font-smoothing: grayscale;
    }

    /* √âtoiles avec compatibilit√© */
    .star {
      position: absolute;
      width: 2px;
      height: 2px;
      background: white;
      border-radius: 50%;
      -webkit-animation: twinkle 2s infinite ease-in-out alternate;
      -moz-animation: twinkle 2s infinite ease-in-out alternate;
      animation: twinkle 2s infinite ease-in-out alternate;
    }

    @-webkit-keyframes twinkle {
      0% { opacity: 0.2; -webkit-transform: scale(1); }
      100% { opacity: 1; -webkit-transform: scale(1.5); }
    }

    @-moz-keyframes twinkle {
      0% { opacity: 0.2; -moz-transform: scale(1); }
      100% { opacity: 1; -moz-transform: scale(1.5); }
    }

    @keyframes twinkle {
      0% { opacity: 0.2; transform: scale(1); }
      100% { opacity: 1; transform: scale(1.5); }
    }

    /* Animations d'images flottantes */
    @-webkit-keyframes floatImage {
      0%, 100% {
        -webkit-transform: translateY(0px) rotate(0deg) scale(1);
      }
      50% {
        -webkit-transform: translateY(-15px) rotate(2deg) scale(1.03);
      }
    }

    @-moz-keyframes floatImage {
      0%, 100% {
        -moz-transform: translateY(0px) rotate(0deg) scale(1);
      }
      50% {
        -moz-transform: translateY(-15px) rotate(2deg) scale(1.03);
      }
    }

    @keyframes floatImage {
      0%, 100% {
        transform: translateY(0px) rotate(0deg) scale(1);
      }
      50% {
        transform: translateY(-15px) rotate(2deg) scale(1.03);
      }
    }

    /* Effet de lueur */
    @-webkit-keyframes glowBorder {
      0%, 100% {
        -webkit-box-shadow: 0 0 10px rgba(255, 105, 180, 0.3);
      }
      50% {
        -webkit-box-shadow: 0 0 20px rgba(255, 105, 180, 0.7), 0 0 40px rgba(255, 215, 0, 0.5);
      }
    }

    @-moz-keyframes glowBorder {
      0%, 100% {
        -moz-box-shadow: 0 0 10px rgba(255, 105, 180, 0.3);
      }
      50% {
        -moz-box-shadow: 0 0 20px rgba(255, 105, 180, 0.7), 0 0 40px rgba(255, 215, 0, 0.5);
      }
    }

    @keyframes glowBorder {
      0%, 100% {
        box-shadow: 0 0 10px rgba(255, 105, 180, 0.3);
      }
      50% {
        box-shadow: 0 0 20px rgba(255, 105, 180, 0.7), 0 0 40px rgba(255, 215, 0, 0.5);
      }
    }

    .floating-img {
      -webkit-animation: floatImage 6s ease-in-out infinite;
      -moz-animation: floatImage 6s ease-in-out infinite;
      animation: floatImage 6s ease-in-out infinite;
      -webkit-transition: -webkit-transform 0.3s ease;
      -moz-transition: -moz-transform 0.3s ease;
      transition: transform 0.3s ease;
      position: absolute;
      border-radius: 2rem;
      pointer-events: none;
      z-index: 1;
      border: 2px solid transparent;
    }

    .border-glow {
      -webkit-animation: glowBorder 3s ease-in-out infinite;
      -moz-animation: glowBorder 3s ease-in-out infinite;
      animation: glowBorder 3s ease-in-out infinite;
    }

    /* Animations de fade */
    @-webkit-keyframes fadeInUp {
      from { opacity: 0; -webkit-transform: translateY(50px); }
      to { opacity: 1; -webkit-transform: translateY(0); }
    }

    @-moz-keyframes fadeInUp {
      from { opacity: 0; -moz-transform: translateY(50px); }
      to { opacity: 1; -moz-transform: translateY(0); }
    }

    @keyframes fadeInUp {
      from { opacity: 0; transform: translateY(50px); }
      to { opacity: 1; transform: translateY(0); }
    }

    .animate-fadeInUp { 
      -webkit-animation: fadeInUp 1s ease-out;
      -moz-animation: fadeInUp 1s ease-out;
      animation: fadeInUp 1s ease-out;
    }

    /* Effets de boutons */
    .btn-hover {
      -webkit-transition: all 0.3s ease;
      -moz-transition: all 0.3s ease;
      transition: all 0.3s ease;
    }

    .btn-hover:hover {
      -webkit-transform: translateY(-5px) scale(1.05);
      -moz-transform: translateY(-5px) scale(1.05);
      transform: translateY(-5px) scale(1.05);
      -webkit-box-shadow: 0 20px 40px rgba(0, 0, 0, 0.3);
      -moz-box-shadow: 0 20px 40px rgba(0, 0, 0, 0.3);
      box-shadow: 0 20px 40px rgba(0, 0, 0, 0.3);
    }

    /* Styles de contenu */
    #main-content { display: none; }
    
    .intro { 
      -webkit-transition: opacity 1s ease, -webkit-transform 1s ease;
      -moz-transition: opacity 1s ease, -moz-transform 1s ease;
      transition: opacity 1s ease, transform 1s ease;
    }
    
    .intro-hidden { 
      opacity: 0; 
      -webkit-transform: scale(0.8);
      -moz-transform: scale(0.8);
      transform: scale(0.8);
      pointer-events: none;
    }

    /* Enveloppe personnalis√©e avec support complet */
    #intro-screen .wrapper {
      height: 150px;
      width: 225px;
      background-color: #3760C9;
      position: relative;
      margin: 0 auto 1.5rem;
      display: -webkit-box;
      display: -moz-box;
      display: -ms-flexbox;
      display: flex;
      -webkit-box-pack: center;
      -moz-box-pack: center;
      -ms-flex-pack: center;
      justify-content: center;
      z-index: 0;
      cursor: pointer;
      -webkit-perspective: 800px;
      -moz-perspective: 800px;
      perspective: 800px;
      -webkit-transition: -webkit-transform 0.3s ease;
      -moz-transition: -moz-transform 0.3s ease;
      transition: transform 0.3s ease;
      -webkit-user-select: none;
      -moz-user-select: none;
      -ms-user-select: none;
      user-select: none;
    }

    #intro-screen .wrapper:focus {
      outline: 2px solid #ffd700;
      outline-offset: 4px;
    }

    /* Couvercle de l'enveloppe */
    #intro-screen .lid {
      position: absolute;
      height: 100%;
      width: 100%;
      top: 0;
      left: 0;
      border-right: 112.5px solid transparent; 
      border-bottom: 75px solid transparent;  
      border-left: 112.5px solid transparent;
      -webkit-transform-origin: top;
      -moz-transform-origin: top;
      transform-origin: top;
      -webkit-transition: -webkit-transform 0.5s ease;
      -moz-transition: -moz-transform 0.5s ease;
      transition: transform 0.5s ease;
      pointer-events: none;
      z-index: 3;
    }

    #intro-screen .lid.one {
      border-top: 75px solid #658ced;
      -webkit-transform: rotateX(0deg);
      -moz-transform: rotateX(0deg);
      transform: rotateX(0deg);
      z-index: 4;
      -webkit-transition-delay: 0.5s;
      -moz-transition-delay: 0.5s;
      transition-delay: 0.5s;
    }

    #intro-screen.open .lid.one {
      -webkit-transform: rotateX(90deg);
      -moz-transform: rotateX(90deg);
      transform: rotateX(90deg);
      -webkit-transition-delay: 0s;
      -moz-transition-delay: 0s;
      transition-delay: 0s;
      z-index: 1;
    }

    #intro-screen .lid.two {
      border-top: 75px solid #3760C9;
      -webkit-transform: rotateX(90deg);
      -moz-transform: rotateX(90deg);
      transform: rotateX(90deg);
      z-index: 2;
      -webkit-transition-delay: 0.5s;
      -moz-transition-delay: 0.5s;
      transition-delay: 0.5s;
    }

    #intro-screen.open .lid.two {
      -webkit-transform: rotateX(180deg);
      -moz-transform: rotateX(180deg);
      transform: rotateX(180deg);
      -webkit-transition-delay: 0.25s;
      -moz-transition-delay: 0.25s;
      transition-delay: 0.25s;
      z-index: 0;
    }

    /* Bouton magique avec √©toiles */
    .magical-stars-btn {
      position: relative;
      padding: 20px 35px;
      background: #FF8C00;
      font-size: 18px;
      font-weight: 600;
      color: #FFFFFF;
      -webkit-box-shadow: 0px 0px 15px 0px rgba(255, 255, 255, 0.8);
      -moz-box-shadow: 0px 0px 15px 0px rgba(255, 255, 255, 0.8);
      box-shadow: 0px 0px 15px 0px rgba(255, 255, 255, 0.8);
      border-radius: 100px;
      border: none;
      -webkit-transition: all 0.3s ease-in-out;
      -moz-transition: all 0.3s ease-in-out;
      transition: all 0.3s ease-in-out;
      cursor: pointer;
      z-index: 1;
    }

    .magical-stars-btn:hover {
      background: #FFD700;
      color: #FFFFFF;
      -webkit-box-shadow: 0 0 80px rgba(255, 255, 255, 0.6);
      -moz-box-shadow: 0 0 80px rgba(255, 255, 255, 0.6);
      box-shadow: 0 0 80px rgba(255, 255, 255, 0.6);
      -webkit-transform: scale(1.05);
      -moz-transform: scale(1.05);
      transform: scale(1.05);
    }

    /* Animations des √©toiles */
    @-webkit-keyframes float {
      0% { -webkit-transform: translateY(0); }
      50% { -webkit-transform: translateY(-5px); }
      100% { -webkit-transform: translateY(0); }
    }

    @-moz-keyframes float {
      0% { -moz-transform: translateY(0); }
      50% { -moz-transform: translateY(-5px); }
      100% { -moz-transform: translateY(0); }
    }

    @keyframes float {
      0% { transform: translateY(0); }
      50% { transform: translateY(-5px); }
      100% { transform: translateY(0); }
    }

    @-webkit-keyframes blink {
      0% { opacity: 0.7; }
      50% { opacity: 1; }
      100% { opacity: 0.7; }
    }

    @-moz-keyframes blink {
      0% { opacity: 0.7; }
      50% { opacity: 1; }
      100% { opacity: 0.7; }
    }

    @keyframes blink {
      0% { opacity: 0.7; }
      50% { opacity: 1; }
      100% { opacity: 0.7; }
    }

    .magical-stars-btn .star-1,
    .magical-stars-btn .star-2,
    .magical-stars-btn .star-3,
    .magical-stars-btn .star-4,
    .magical-stars-btn .star-5,
    .magical-stars-btn .star-6 {
      -webkit-filter: drop-shadow(0 0 0 #FFD700);
      filter: drop-shadow(0 0 0 #FFD700);
      -webkit-animation: float 3s ease-in-out infinite, blink 1.5s infinite alternate;
      -moz-animation: float 3s ease-in-out infinite, blink 1.5s infinite alternate;
      animation: float 3s ease-in-out infinite, blink 1.5s infinite alternate;
    }

    /* Positions des √©toiles */
    .magical-stars-btn .star-1 {
      position: absolute;
      top: 20%;
      left: 20%;
      width: 25px;
      height: auto;
      z-index: -5;
    }

    .magical-stars-btn .star-2 {
      position: absolute;
      top: 45%;
      left: 45%;
      width: 15px;
      height: auto;
      z-index: -5;
    }

    .magical-stars-btn .star-3 {
      position: absolute;
      top: 40%;
      left: 40%;
      width: 5px;
      height: auto;
      z-index: -5;
    }

    .magical-stars-btn .star-4 {
      position: absolute;
      top: 20%;
      left: 40%;
      width: 8px;
      height: auto;
      z-index: -5;
    }

    .magical-stars-btn .star-5 {
      position: absolute;
      top: 25%;
      left: 45%;
      width: 15px;
      height: auto;
      z-index: -5;
    }

    .magical-stars-btn .star-6 {
      position: absolute;
      top: 5%;
      left: 50%;
      width: 5px;
      height: auto;
      z-index: -5;
    }

    /* Effet au survol des √©toiles */
    .magical-stars-btn:hover .star-1,
    .magical-stars-btn:hover .star-2,
    .magical-stars-btn:hover .star-3,
    .magical-stars-btn:hover .star-4,
    .magical-stars-btn:hover .star-5,
    .magical-stars-btn:hover .star-6 {
      -webkit-filter: drop-shadow(0 0 10px #FFD700);
      filter: drop-shadow(0 0 10px #FFD700);
    }

    .magical-stars-btn .fil0 {
      fill: #FFD700;
    }

    /* Enveloppe et lettre */
    #intro-screen .envelope {
      position: absolute;
      height: 100%;
      width: 100%;
      top: 0;
      left: 0;
      border-top: 75px solid transparent;
      border-right: 112.5px solid #C4DFF0;
      border-bottom: 75px solid #C4DFF0;
      border-left: 112.5px solid #a4d4f2;
      z-index: 3;
      pointer-events: none;
    }

    #intro-screen .letter {
      position: absolute;
      top: 0;
      width: 80%;
      height: 80%;
      background-color: white;
      border-radius: 15px;
      z-index: 2;
      -webkit-transition: -webkit-transform 0.5s ease, opacity 0.5s ease;
      -moz-transition: -moz-transform 0.5s ease, opacity 0.5s ease;
      transition: transform 0.5s ease, opacity 0.5s ease;
      pointer-events: none;
      display: -webkit-box;
      display: -moz-box;
      display: -ms-flexbox;
      display: flex;
      -webkit-box-pack: center;
      -moz-box-pack: center;
      -ms-flex-pack: center;
      justify-content: center;
      -webkit-box-align: center;
      -moz-box-align: center;
      -ms-flex-align: center;
      align-items: center;
      font-size: 24px;
      color: #3B4049;
      font-weight: 600;
      -webkit-user-select: none;
      -moz-user-select: none;
      -ms-user-select: none;
      user-select: none;
      -webkit-transform: translateY(0);
      -moz-transform: translateY(0);
      transform: translateY(0);
      opacity: 0;
      -webkit-transition-delay: 0s;
      -moz-transition-delay: 0s;
      transition-delay: 0s;
    }

    #intro-screen.open .letter {
      -webkit-transform: translateY(-40px);
      -moz-transform: translateY(-40px);
      transform: translateY(-40px);
      opacity: 1;
      -webkit-transition-delay: 0.5s;
      -moz-transition-delay: 0.5s;
      transition-delay: 0.5s;
      -webkit-box-shadow: 0 0 30px rgba(255, 215, 0, 0.7);
      -moz-box-shadow: 0 0 30px rgba(255, 215, 0, 0.7);
      box-shadow: 0 0 30px rgba(255, 215, 0, 0.7);
      background: -webkit-linear-gradient(top, white 0%, #f9f9f9 100%);
      background: -moz-linear-gradient(top, white 0%, #f9f9f9 100%);
      background: linear-gradient(to bottom, white 0%, #f9f9f9 100%);
    }

    /* Main pour l'interaction */
    #intro-screen .hand {
      position: absolute;
      width: 60px;
      height: 60px;
      background: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path fill="white" d="M19.5,15a4.5,4.5,0,0,1-4.5,4.5c-1.862,0-2.5-1.5-3.5-1.5S10,19.5,8.5,19.5A4.5,4.5,0,0,1,4,15V4.5A1.5,1.5,0,0,1,5.5,3h0A1.5,1.5,0,0,1,7,4.5V12a1,1,0,0,0,2,0V1.5A1.5,1.5,0,0,1,10.5,0h0A1.5,1.5,0,0,1,12,1.5V12a1,1,0,0,0,2,0V3.5A1.5,1.5,0,0,1,15.5,2h0A1.5,1.5,0,0,1,17,3.5V12a1,1,0,0,0,2,0V6.5A1.5,1.5,0,0,1,20.5,5h0A1.5,1.5,0,0,1,22,6.5Z"/></svg>') no-repeat center;
      background-size: contain;
      top: -30px;
      left: 50%;
      -webkit-transform: translateX(-40%) rotate(0deg);
      -moz-transform: translateX(-40%) rotate(0deg);
      transform: translateX(-40%) rotate(0deg);
      opacity: 0;
      -webkit-transition: all 0.2s ease;
      -moz-transition: all 0.2s ease;
      transition: all 0.2s ease;
      -webkit-filter: drop-shadow(0 0 5px rgba(255, 215, 0, 0.7));
      filter: drop-shadow(0 0 5px rgba(255, 215, 0, 0.7));
      pointer-events: none;
      z-index: 10;
    }

    .magic-glow {
      position: absolute;
      width: 200%;
      height: 200%;
      background: -webkit-radial-gradient(circle, rgba(255,215,0,0.3) 0%, rgba(255,105,180,0.1) 50%, transparent 70%);
      background: -moz-radial-gradient(circle, rgba(255,215,0,0.3) 0%, rgba(255,105,180,0.1) 50%, transparent 70%);
      background: radial-gradient(circle, rgba(255,215,0,0.3) 0%, rgba(255,105,180,0.1) 50%, transparent 70%);
      top: -50%;
      left: -50%;
      z-index: -1;
      opacity: 0;
      -webkit-transition: opacity 0.5s ease;
      -moz-transition: opacity 0.5s ease;
      transition: opacity 0.5s ease;
    }

    #intro-screen:hover .hand {
      opacity: 1;
      top: 10px;
    }

    /* Effet machine √† √©crire */
    @-webkit-keyframes typewriter {
      from { width: 0; }
      to { width: 100%; }
    }

    @-moz-keyframes typewriter {
      from { width: 0; }
      to { width: 100%; }
    }

    @keyframes typewriter {
      from { width: 0; }
      to { width: 100%; }
    }

    @-webkit-keyframes blink-caret {
      from, to { border-color: transparent; }
      50% { border-color: #ffd700; }
    }

    @-moz-keyframes blink-caret {
      from, to { border-color: transparent; }
      50% { border-color: #ffd700; }
    }

    @keyframes blink-caret {
      from, to { border-color: transparent; }
      50% { border-color: #ffd700; }
    }

    .typewriter {
      overflow: hidden;
      border-right: .15em solid #ffd700;
      white-space: nowrap;
      margin: 0 auto;
      letter-spacing: .03em;
      width: 0;
      -webkit-animation: typewriter 2s steps(36, end) 1s forwards, blink-caret .75s step-end infinite;
      -moz-animation: typewriter 2s steps(36, end) 1s forwards, blink-caret .75s step-end infinite;
      animation: typewriter 2s steps(36, end) 1s forwards, blink-caret .75s step-end infinite;
    }

    /* Texte qui rebondit */
    .bouncing-text {
      font-weight: bold;
      font-family: 'Dancing Script', cursive;
      font-size: 2rem;
      line-height: 1.4em;
      color: #ffd700;
      text-shadow: 0 0 10px rgba(255, 215, 0, 0.8);
      display: inline-block;
    }

    .bouncing-text span {
      display: inline-block;
      -webkit-animation: bounce-letters 2s infinite linear;
      -moz-animation: bounce-letters 2s infinite linear;
      animation: bounce-letters 2s infinite linear;
    }

    @-webkit-keyframes bounce-letters {
      0%, 90%, 100% {
        -webkit-transform: translateY(0px);
        text-shadow: 0 0 10px rgba(255, 215, 0, 0.8);
      }
      10% {
        -webkit-transform: translateY(-15px);
        text-shadow: 0 5px 15px rgba(255, 215, 0, 1), 0 0 20px rgba(255, 105, 180, 0.8);
      }
    }

    @-moz-keyframes bounce-letters {
      0%, 90%, 100% {
        -moz-transform: translateY(0px);
        text-shadow: 0 0 10px rgba(255, 215, 0, 0.8);
      }
      10% {
        -moz-transform: translateY(-15px);
        text-shadow: 0 5px 15px rgba(255, 215, 0, 1), 0 0 20px rgba(255, 105, 180, 0.8);
      }
    }

    @keyframes bounce-letters {
      0%, 90%, 100% {
        transform: translateY(0px);
        text-shadow: 0 0 10px rgba(255, 215, 0, 0.8);
      }
      10% {
        transform: translateY(-15px);
        text-shadow: 0 5px 15px rgba(255, 215, 0, 1), 0 0 20px rgba(255, 105, 180, 0.8);
      }
    }

    /* Delays pour les lettres */
    .bouncing-text span:nth-child(1) { -webkit-animation-delay: 0s; -moz-animation-delay: 0s; animation-delay: 0s; }
    .bouncing-text span:nth-child(2) { -webkit-animation-delay: 0.1s; -moz-animation-delay: 0.1s; animation-delay: 0.1s; }
    .bouncing-text span:nth-child(3) { -webkit-animation-delay: 0.2s; -moz-animation-delay: 0.2s; animation-delay: 0.2s; }
    .bouncing-text span:nth-child(4) { -webkit-animation-delay: 0.3s; -moz-animation-delay: 0.3s; animation-delay: 0.3s; }
    .bouncing-text span:nth-child(5) { -webkit-animation-delay: 0.4s; -moz-animation-delay: 0.4s; animation-delay: 0.4s; }
    .bouncing-text span:nth-child(6) { -webkit-animation-delay: 0.5s; -moz-animation-delay: 0.5s; animation-delay: 0.5s; }
    .bouncing-text span:nth-child(7) { -webkit-animation-delay: 0.6s; -moz-animation-delay: 0.6s; animation-delay: 0.6s; }
    .bouncing-text span:nth-child(8) { -webkit-animation-delay: 0.7s; -moz-animation-delay: 0.7s; animation-delay: 0.7s; }
    .bouncing-text span:nth-child(9) { -webkit-animation-delay: 0.8s; -moz-animation-delay: 0.8s; animation-delay: 0.8s; }
    .bouncing-text span:nth-child(10) { -webkit-animation-delay: 0.9s; -moz-animation-delay: 0.9s; animation-delay: 0.9s; }
    .bouncing-text span:nth-child(11) { -webkit-animation-delay: 1s; -moz-animation-delay: 1s; animation-delay: 1s; }
    .bouncing-text span:nth-child(12) { -webkit-animation-delay: 1.1s; -moz-animation-delay: 1.1s; animation-delay: 1.1s; }
    .bouncing-text span:nth-child(13) { -webkit-animation-delay: 1.2s; -moz-animation-delay: 1.2s; animation-delay: 1.2s; }
    .bouncing-text span:nth-child(14) { -webkit-animation-delay: 1.3s; -moz-animation-delay: 1.3s; animation-delay: 1.3s; }
    .bouncing-text span:nth-child(15) { -webkit-animation-delay: 1.4s; -moz-animation-delay: 1.4s; animation-delay: 1.4s; }

    /* Styles pour la lettre */
    .letter {
      position: relative;
      display: inline-block;
    }

    .letter img {
      width: 100%;
      height: auto;
      border-radius: 10px;
      -webkit-box-shadow: 0 0 15px rgba(255, 215, 0, 0.8);
      -moz-box-shadow: 0 0 15px rgba(255, 215, 0, 0.8);
      box-shadow: 0 0 15px rgba(255, 215, 0, 0.8);
      -webkit-transition: all 0.5s ease-in-out;
      -moz-transition: all 0.5s ease-in-out;
      transition: all 0.5s ease-in-out;
    }

    .letter::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: url('https://www.transparenttextures.com/patterns/stardust.png');
      background-size: cover;
      opacity: 0.3;
      pointer-events: none;
      -webkit-animation: sparkle 2s infinite;
      -moz-animation: sparkle 2s infinite;
      animation: sparkle 2s infinite;
    }

    @-webkit-keyframes sparkle {
      0% { opacity: 0.3; }
      50% { opacity: 1; }
      100% { opacity: 0.3; }
    }

    @-moz-keyframes sparkle {
      0% { opacity: 0.3; }
      50% { opacity: 1; }
      100% { opacity: 0.3; }
    }

    @keyframes sparkle {
      0% { opacity: 0.3; }
      50% { opacity: 1; }
      100% { opacity: 0.3; }
    }

    .letter:hover img {
      -webkit-box-shadow: 0 0 30px rgba(255, 215, 0, 1);
      -moz-box-shadow: 0 0 30px rgba(255, 215, 0, 1);
      box-shadow: 0 0 30px rgba(255, 215, 0, 1);
      -webkit-transform: scale(1.05);
      -moz-transform: scale(1.05);
      transform: scale(1.05);
    }

    /* Adaptation mobile */
    @media (max-width: 768px) {
      body {
        overflow-y: auto;
      }
      
      .bouncing-text {
        font-size: 1.5rem;
      }
      
      .magical-stars-btn {
        padding: 15px 25px;
        font-size: 16px;
      }
      
      #intro-screen .wrapper {
        width: 180px;
        height: 120px;
      }
      
      #intro-screen .lid {
        border-right: 90px solid transparent;
        border-left: 90px solid transparent;
        border-bottom: 60px solid transparent;
      }
      
      #intro-screen .lid.one {
        border-top: 60px solid #658ced;
      }
      
      #intro-screen .lid.two {
        border-top: 60px solid #3760C9;
      }
      
      #intro-screen .envelope {
        border-top: 60px solid transparent;
        border-right: 90px solid #C4DFF0;
        border-bottom: 60px solid #C4DFF0;
        border-left: 90px solid #a4d4f2;
      }
    }

    /* Optimisations pour les anciens navigateurs */
    @media screen and (-webkit-min-device-pixel-ratio: 0) {
      .floating-img {
        -webkit-transform: translateZ(0);
        -webkit-backface-visibility: hidden;
        -webkit-perspective: 1000;
      }
    }

    /* Fallback pour les navigateurs sans support des animations */
    .no-css-animations .floating-img {
      position: static;
      display: inline-block;
      margin: 10px;
    }
    
    .no-css-animations .star {
      display: none;
    }
    
    .no-css-animations .typewriter {
      width: 100%;
      border: none;
      animation: none;
    }
  </style>

  <script>
    // Configuration Tailwind avec fallback
    if (typeof tailwind !== 'undefined') {
      tailwind.config = {
        theme: {
          extend: {
            fontFamily: {
              'great-vibes': ['Great Vibes', 'cursive'],
              'dancing': ['Dancing Script', 'cursive'],
              'playfair': ['Playfair Display', 'serif'],
              'outfit': ['Outfit', 'sans-serif']
            },
            colors: {
              'gold': '#ffd700',
              'deep-purple': '#4a0e4e',
              'hot-pink': '#ff1493'
            }
          }
        }
      };
    }
  </script>
</head>
<body class="min-h-screen font-outfit relative">

  <!-- Conteneur d'√©toiles -->
  <div id="stars-container" class="fixed inset-0 z-0"></div>

  <!-- √âcran d'introduction -->
  <div id="intro-screen" class="fixed inset-0 flex flex-col items-center justify-center bg-black z-50 text-white intro px-4">
    <div class="wrapper" id="envelope-wrapper" role="button" tabindex="0" aria-label="Ouvrir l'enveloppe">
      <div class="magic-glow"></div>
      <div class="lid one"></div>
      <div class="lid two"></div>
      <div class="envelope"></div>
      <div class="letter">
        <img src="https://i.pinimg.com/736x/71/8b/b4/718bb4b061b3b8ec9cad5266a041be82.jpg" alt="sarah" />
      </div>
      <div class="hand"></div>
    </div>

    <h1 class="text-3xl mt-4 bouncing-text" id="bouncing-message">
      <span>L</span><span>i</span><span>r</span><span>e</span><span> </span>
      <span>l</span><span>e</span><span> </span>
      <span>m</span><span>e</span><span>s</span><span>s</span><span>a</span><span>g</span><span>e</span>
    </h1>
    
    <button id="open-envelope-btn" class="magical-stars-btn mt-6 px-8 py-4 bg-white text-black font-semibold text-lg shadow-lg rounded-full transition-all duration-300 relative overflow-hidden">
      Ouvrir l'enveloppe
      <div class="star-1">
        <svg xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 784.11 815.53" style="shape-rendering:geometricPrecision; text-rendering:geometricPrecision; image-rendering:optimizeQuality; fill-rule:evenodd; clip-rule:evenodd" version="1.1" xml:space="preserve" xmlns="http://www.w3.org/2000/svg">
          <g id="Layer_x0020_1">
            <path d="M392.05 0c-20.9,210.08 -184.06,378.41 -392.05,407.78 207.96,29.37 371.12,197.68 392.05,407.74 20.93,-210.06 184.09,-378.37 392.05,-407.74 -207.98,-29.38 -371.16,-197.69 -392.06,-407.78z" class="fil0"></path>
          </g>
        </svg>
      </div>
      <div class="star-2">
        <svg xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 784.11 815.53" style="shape-rendering:geometricPrecision; text-rendering:geometricPrecision; image-rendering:optimizeQuality; fill-rule:evenodd; clip-rule:evenodd" version="1.1" xml:space="preserve" xmlns="http://www.w3.org/2000/svg">
          <g id="Layer_x0020_1">
            <path d="M392.05 0c-20.9,210.08 -184.06,378.41 -392.05,407.78 207.96,29.37 371.12,197.68 392.05,407.74 20.93,-210.06 184.09,-378.37 392.05,-407.74 -207.98,-29.38 -371.16,-197.69 -392.06,-407.78z" class="fil0"></path>
          </g>
        </svg>
      </div>
      <div class="star-3">
        <svg xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 784.11 815.53" style="shape-rendering:geometricPrecision; text-rendering:geometricPrecision; image-rendering:optimizeQuality; fill-rule:evenodd; clip-rule:evenodd" version="1.1" xml:space="preserve" xmlns="http://www.w3.org/2000/svg">
          <g id="Layer_x0020_1">
            <path d="M392.05 0c-20.9,210.08 -184.06,378.41 -392.05,407.78 207.96,29.37 371.12,197.68 392.05,407.74 20.93,-210.06 184.09,-378.37 392.05,-407.74 -207.98,-29.38 -371.16,-197.69 -392.06,-407.78z" class="fil0"></path>
          </g>
        </svg>
      </div>
      <div class="star-4">
        <svg xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 784.11 815.53" style="shape-rendering:geometricPrecision; text-rendering:geometricPrecision; image-rendering:optimizeQuality; fill-rule:evenodd; clip-rule:evenodd" version="1.1" xml:space="preserve" xmlns="http://www.w3.org/2000/svg">
          <g id="Layer_x0020_1">
            <path d="M392.05 0c-20.9,210.08 -184.06,378.41 -392.05,407.78 207.96,29.37 371.12,197.68 392.05,407.74 20.93,-210.06 184.09,-378.37 392.05,-407.74 -207.98,-29.38 -371.16,-197.69 -392.06,-407.78z" class="fil0"></path>
          </g>
        </svg>
      </div>
      <div class="star-5">
        <svg xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 784.11 815.53" style="shape-rendering:geometricPrecision; text-rendering:geometricPrecision; image-rendering:optimizeQuality; fill-rule:evenodd; clip-rule:evenodd" version="1.1" xml:space="preserve" xmlns="http://www.w3.org/2000/svg">
          <g id="Layer_x0020_1">
            <path d="M392.05 0c-20.9,210.08 -184.06,378.41 -392.05,407.78 207.96,29.37 371.12,197.68 392.05,407.74 20.93,-210.06 184.09,-378.37 392.05,-407.74 -207.98,-29.38 -371.16,-197.69 -392.06,-407.78z" class="fil0"></path>
          </g>
        </svg>
      </div>
      <div class="star-6">
        <svg xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 784.11 815.53" style="shape-rendering:geometricPrecision; text-rendering:geometricPrecision; image-rendering:optimizeQuality; fill-rule:evenodd; clip-rule:evenodd" version="1.1" xml:space="preserve" xmlns="http://www.w3.org/2000/svg">
          <g id="Layer_x0020_1">
            <path d="M392.05 0c-20.9,210.08 -184.06,378.41 -392.05,407.78 207.96,29.37 371.12,197.68 392.05,407.74 20.93,-210.06 184.09,-378.37 392.05,-407.74 -207.98,-29.38 -371.16,-197.69 -392.06,-407.78z" class="fil0"></path>
          </g>
        </svg>
      </div>
    </button>
  </div>

  <!-- Images de fond flottantes -->
  <div id="images-background" class="fixed inset-0 -z-10 pointer-events-none">
    <img src="https://i.pinimg.com/736x/4b/7f/d1/4b7fd15658f9741236c48c52e62cd851.jpg" class="floating-img border-glow" style="top: 10%; left: 10%; width: 140px; animation-delay: 0s;" alt="D√©coration" />
    <img src="https://i.pinimg.com/736x/4b/7f/d1/4b7fd15658f9741236c48c52e62cd851.jpg" class="floating-img border-glow" style="top: 35%; left: 65%; width: 160px; animation-delay: 1s;" alt="D√©coration" />
    <img src="https://i.pinimg.com/736x/4b/7f/d1/4b7fd15658f9741236c48c52e62cd851.jpg" class="floating-img border-glow" style="top: 60%; left: 25%; width: 120px; animation-delay: 2s;" alt="D√©coration" />
    <img src="https://i.pinimg.com/736x/4b/7f/d1/4b7fd15658f9741236c48c52e62cd851.jpg" class="floating-img border-glow" style="top: 20%; left: 80%; width: 130px; animation-delay: 3s;" alt="D√©coration" />
    <img src="https://i.pinimg.com/736x/4b/7f/d1/4b7fd15658f9741236c48c52e62cd851.jpg" class="floating-img border-glow" style="top: 75%; left: 5%; width: 150px; animation-delay: 4s;" alt="D√©coration" />
  </div>

  <!-- Contenu principal -->
  <div id="main-content" class="min-h-screen flex items-center justify-center px-4 relative z-10">
    <div class="text-center animate-fadeInUp">
      <div class="absolute -bottom-16 -right-20 text-5xl animate-float opacity-60" style="animation-delay: 1.5s;">‚ú®</div>

      <div class="bg-white bg-opacity-10 backdrop-blur-sm rounded-3xl p-8 shadow-2xl border border-white border-opacity-20 max-w-sm mx-auto">
        <div class="mb-6 animate-float">
          <div class="w-20 h-20 mx-auto bg-gradient-to-br from-gold to-hot-pink rounded-full flex items-center justify-center shadow-2xl">
            <span class="text-4xl">üíå</span>
          </div>
        </div>

        <h1 class="font-dancing text-5xl text-white mb-2">Invitation</h1>
        <h2 class="font-dancing text-4xl text-gold mb-6">Sp√©ciale</h2>

        <p id="typewriter-text" class="text-white text-opacity-90 text-lg font-medium mb-8 animate-fadeInUp typewriter">
          Une c√©l√©bration magique vous attend
        </p>

        <button id="enter-btn" class="bg-gradient-to-r from-gold via-hot-pink to-deep-purple text-white font-bold text-xl px-8 py-3 rounded-2xl shadow-2xl transition-all duration-300 btn-hover animate-fadeInUp">
          Ouvrir l'invitation
        </button>

        <p class="text-white text-opacity-60 text-sm mt-8">‚ú® Cr√©√© avec amour par Valeque ‚ú®</p>
      </div>
    </div>
  </div>

  <!-- Scripts avec gestion d'erreurs -->
  <script>
    // D√©tection du support CSS
    (function() {
      var testEl = document.createElement('div');
      testEl.style.cssText = 'animation: none;';
      
      if (testEl.style.animation === undefined) {
        document.documentElement.className += ' no-css-animations';
      }
    })();

    // G√©n√©ration d'√©toiles avec fallback
    function createStars() {
      try {
        var container = document.getElementById('stars-container');
        if (!container) return;
        
        for (var i = 0; i < 100; i++) {
          var star = document.createElement('div');
          star.className = 'star';
          star.style.top = Math.random() * 100 + '%';
          star.style.left = Math.random() * 100 + '%';
          star.style.animationDelay = (Math.random() * 3) + 's';
          container.appendChild(star);
        }
      } catch (e) {
        console.warn('Erreur lors de la cr√©ation des √©toiles:', e);
      }
    }

    // Fonction d'ouverture de l'enveloppe
    function openEnvelopeAndShowInvitation() {
      try {
        var hand = document.querySelector('.hand');
        if (hand) {
          hand.style.opacity = '1';
          hand.style.transform = 'translateX(-50%) rotate(-15deg)';
        }

        setTimeout(function() {
          var envelopeWrapper = document.getElementById('envelope-wrapper');
          if (envelopeWrapper && envelopeWrapper.parentElement) {
            envelopeWrapper.parentElement.classList.add('open');
          }
          
          if (hand) {
            hand.style.transform = 'translateX(-50%) translateY(-20px) rotate(-5deg)';
          }
          
          var openEnvelopeBtn = document.getElementById('open-envelope-btn');
          if (openEnvelopeBtn) {
            openEnvelopeBtn.disabled = true;
          }

          setTimeout(function() {
            if (hand) {
              hand.style.opacity = '0';
              hand.style.transform = 'translateX(-50%) translateY(-40px) rotate(0deg)';
            }
            setTimeout(function() {
              showInvitation();
            }, 500);
          }, 1000);
        }, 300);
      } catch (e) {
        console.warn('Erreur lors de l\'ouverture de l\'enveloppe:', e);
        showInvitation();
      }
    }

    // Fonction d'affichage de l'invitation
    function showInvitation() {
      try {
        var introScreen = document.getElementById('intro-screen');
        var mainContent = document.getElementById('main-content');
        
        if (introScreen) {
          introScreen.classList.add('intro-hidden');
          setTimeout(function() {
            introScreen.style.display = 'none';
            if (mainContent) {
              mainContent.style.display = 'flex';
            }
          }, 1000);
        }
      } catch (e) {
        console.warn('Erreur lors de l\'affichage de l\'invitation:', e);
      }
    }

    // Gestion des mouvements (souris et tactile)
    function handleMove(x, y) {
      try {
        var starsContainer = document.getElementById('stars-container');
        var floatingImages = document.querySelectorAll('.floating-img');
        
        if (starsContainer) {
          var nx = (x / window.innerWidth) - 0.5;
          var ny = (y / window.innerHeight) - 0.5;
          starsContainer.style.transform = 'translate(' + (nx * 15) + 'px, ' + (ny * 15) + 'px)';
          
          for (var i = 0; i < floatingImages.length; i++) {
            var img = floatingImages[i];
            var factor = (i + 1) * 10;
            img.style.transform = 'translate(' + (nx * factor) + 'px, ' + (ny * factor) + 'px) scale(1.05)';
          }
        }
      } catch (e) {
        console.warn('Erreur lors du mouvement:', e);
      }
    }

    // Initialisation avec gestion d'erreurs
    function init() {
      try {
        createStars();
        
        // √âv√©nements pour l'enveloppe
        var envelopeWrapper = document.getElementById('envelope-wrapper');
        var openEnvelopeBtn = document.getElementById('open-envelope-btn');
        
        if (envelopeWrapper) {
          envelopeWrapper.addEventListener('click', openEnvelopeAndShowInvitation);
          envelopeWrapper.addEventListener('keydown', function(e) {
            if (e.key === 'Enter' || e.key === ' ') {
              e.preventDefault();
              openEnvelopeAndShowInvitation();
            }
          });
        }
        
        if (openEnvelopeBtn) {
          openEnvelopeBtn.addEventListener('click', openEnvelopeAndShowInvitation);
        }
        
        // √âv√©nement pour le bouton d'entr√©e
        var enterBtn = document.getElementById('enter-btn');
        if (enterBtn) {
          enterBtn.addEventListener('click', function() {
            window.location.href = 'invitation.html';
          });
        }
        
        // √âv√©nements de mouvement
        if (window.addEventListener) {
          window.addEventListener('mousemove', function(e) {
            handleMove(e.clientX, e.clientY);
          });
          
          window.addEventListener('touchmove', function(e) {
            if (e.touches.length > 0) {
              handleMove(e.touches[0].clientX, e.touches[0].clientY);
            }
          }, { passive: true });
        }
        
      } catch (e) {
        console.warn('Erreur lors de l\'initialisation:', e);
      }
    }

    // Attendre que le DOM soit pr√™t
    if (document.readyState === 'loading') {
      document.addEventListener('DOMContentLoaded', init);
    } else {
      init();
    }
  </script>
</body>
</html>